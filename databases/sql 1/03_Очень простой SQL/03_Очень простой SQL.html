<!DOCTYPE html>
<html lang="ru" data-react-helmet="lang"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Яндекс.Практикум</title>
            <link rel="stylesheet" href="./03_Очень простой SQL_files/vendor.build.css">
        <link rel="stylesheet" href="./03_Очень простой SQL_files/common.build.css">
        <link rel="stylesheet" href="./03_Очень простой SQL_files/proficiency.build.css">

    <body id="bundle-proficiency" style="--profession-color:#264be0;">
        <!-- Яндекс — найдётся всё. Может даже ляпы в коде. -->
     <section class="lesson proficiency-page__content"><div class="markdown markdown_size_normal markdown_type_theory theory-viewer__markdown theory-viewer__markdown_flexible big-theory lesson__theory lesson__markdown"><h1>Очень простой SQL</h1><div class="paragraph">Для работы с реляционными базами данных придуман специальный структурированный язык запросов — <strong>Structured Query Language</strong> (сокращенно <strong>SQL</strong>). Иногда в шутку его называют <em>Simple Query Language</em> — «простой язык запросов»: SQL — это одна из самых сложных технологий, с которыми программистам приходится постоянно работать. </div><div class="paragraph">Любое взаимодействие с базой данных происходит посредством <strong>запросов</strong> на языке SQL. <strong>Запрос</strong> — это команда: «база данных, сделай то-то и то-то». </div><div class="paragraph">Например:</div><ul><li>Покупатель сделал заказ в интернет-магазине — к БД отправляется <strong>SQL-запрос</strong>: «в таблицу <em>buyer</em> в новую строку записать данные покупателя; в таблице <em>basket</em> отметить заказанные товары».</li><li>Пользователь запросил подборку статей по тегу "What is SQL" — к БД отправляется <strong>SQL-запрос</strong>: «выбрать из таблицы <em>articles</em> те статьи, у которых в поле <em>tag</em> есть запись "What is SQL" и вернуть для каждой статьи содержимое полей <em>title</em>, <em>date</em>, <em>main_image</em>, <em>description, tag</em>; для каждой статьи запросить имя автора из таблицы <em>author</em>; статьи отсортировать по полю <em>date</em>, от новых к старым».</li><li>В социальной сети зарегистрировался новый пользователь — к БД отправляется <strong>SQL-запрос</strong>: «в таблицу <em>users</em> добавить новую строку с данными пользователя».</li></ul><div class="quiz-task"><div class="quiz-task__header"></div><div class="markdown markdown_size_normal markdown_type_theory quiz-task__content" style="padding: 0px;"><div class="paragraph">В течении этого урока мы очень поверхностно затронем практические возможности баз данных, потому что документация по каждой из популярных баз занимает тысячи страниц.</div></div></div>
<div class="paragraph">Запрос — это текст, команда, которая отправляется к базе данных. </div><div class="paragraph">Пример запроса:</div><pre class="sql code-block code-block_theme_light"><div class="code-block__tools"><span class="code-block__clipboard">Скопировать код</span><span class="code-block__lang">SQL</span></div><code class="code-block__code sql hljs"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> author;</code></pre><div class="paragraph">Пример ответа:</div><pre class="sql code-block code-block_theme_light"><div class="code-block__tools"><span class="code-block__clipboard">Скопировать код</span><span class="code-block__lang">SQL</span></div><code class="code-block__code sql hljs">id     name                  birth_year
<span class="hljs-comment">-----  --------------------  ------------</span>
1      Человек без селезенки 1860
2      Владимир Набоков      1899
3      Лев Толстой           1828
4      Насон Грядущий        3019</code></pre><div class="paragraph">Можно отправить запросы на чтение, изменение и добавление данных. Также существуют служебные запросы, например — запрос на создание новой таблицы.</div><div class="quiz-task"><div class="quiz-task__header"></div><div class="markdown markdown_size_normal markdown_type_theory quiz-task__content" style="padding: 0px;"><div class="paragraph">Каждый запрос обязательно заканчивается точкой с запятой <code class="code-inline code-inline_theme_light">;</code>.  Ключевые слова запросов пишут заглавными буквами. Можно писать и строчными, но обычно так не делают: читаемость кода ухудшается.</div></div></div>
<h3>Создание таблицы</h3><div class="paragraph">Синтаксис для создания таблицы выглядит так:</div><pre class="sql code-block code-block_theme_light"><div class="code-block__tools"><span class="code-block__clipboard">Скопировать код</span><span class="code-block__lang">SQL</span></div><code class="code-block__code sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> &lt;имя таблицы&gt; (
    &lt;имя столбца<span class="hljs-number">1</span>&gt; &lt;тип столбца&gt; [дополнительные условия],
    &lt;имя столбца<span class="hljs-number">2</span>&gt; &lt;тип столбца&gt; [дополнительные условия],
);</code></pre><div class="paragraph">Вот настоящий запрос на создание таблицы:</div><pre class="sql code-block code-block_theme_light"><div class="code-block__tools"><span class="code-block__clipboard">Скопировать код</span><span class="code-block__lang">SQL</span></div><code class="code-block__code sql hljs"><span class="hljs-comment">-- СОЗДАТЬ ТАБЛИЦУ с названием author</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> author(
    <span class="hljs-keyword">id</span>    <span class="hljs-built_in">INTEGER</span> PRIMARY <span class="hljs-keyword">KEY</span>, 
    <span class="hljs-comment">-- создать колонку с названием id, в ней будут ЦЕЛЫЕ ЧИСЛА, </span>
    <span class="hljs-comment">-- в этой колонке будут храниться УНИКАЛЬНЫЕ КЛЮЧИ записей</span>
    <span class="hljs-keyword">name</span>  <span class="hljs-built_in">TEXT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    <span class="hljs-comment">-- создать колонку с названием name, в ней будет ТЕКСТ </span>
    <span class="hljs-comment">-- и НЕ МОЖЕТ БЫТЬ ПУСТОЙ</span>
    birth_year <span class="hljs-built_in">INTEGER</span>
    <span class="hljs-comment">-- создать колонку с названием birth_year, в ней будут ЦЕЛЫЕ ЧИСЛА</span>
);</code></pre><div class="paragraph">Эта команда создаёт новую таблицу <code class="code-inline code-inline_theme_light">author</code> со столбцами <code class="code-inline code-inline_theme_light">id</code>, <code class="code-inline code-inline_theme_light">name</code> и <code class="code-inline code-inline_theme_light">birth_year</code>. У <code class="code-inline code-inline_theme_light">id</code> и <code class="code-inline code-inline_theme_light">birth_year</code> тип допустимых значений — <code class="code-inline code-inline_theme_light">integer</code>, целое число. </div><div class="paragraph">Для столбца <code class="code-inline code-inline_theme_light">id</code> указано условие: это <code class="code-inline code-inline_theme_light">primary key</code>, <strong>первичный ключ</strong>. Это значит, что каждой записи в таблице будет присвоен уникальный номер, по которому потом можно будет её найти. </div><div class="quiz-task"><div class="quiz-task__header"></div><div class="markdown markdown_size_normal markdown_type_theory quiz-task__content" style="padding: 0px;"><div class="paragraph">Уникальный номер налогоплательщика, номер паспорта, заводской VIN-код автомобиля, государственный номер автомобиля — всё это уникальные, не повторяющиеся идентификаторы. Такой же уникальный идентификатор есть и у каждой записи в БД.</div></div></div>
<div class="paragraph">Особые правила для числовых первичных ключей:</div><ul><li>Если при добавлении новой записи в таблицу не указать первичный ключ, то база сама присвоит его.</li><li>Если удалить запись, то её первичный ключ не будет повторно использован при автоматическом присвоении ключей. Но можно добавить новую запись с ключом удалённой записи, если при создании записи указать ключ явно.</li></ul><div class="quiz quiz_options-type_checkbox quiz quiz_answered quiz_type_select quiz_blocking"><div class="markdown markdown_size_normal markdown_type_theory quiz__content"><div class="paragraph">Для хранения цитат писателей создадим новую таблицу quote с полями id (уникальный идентификатор записи), author_id (связь с таблицей авторов) и citation (текст цитаты). Выберите, какой код будет правильно работать.</div></div><section class="checbox-group-default checbox-group checkbox-group-sketch quiz__group" role="group" name="quiz-select-SuperQuiz"><div class="quiz__option-container quiz__option-container_checked quiz__option-container_error"><label class="checkbox-default checkbox checkbox_disabled checkbox-sketch checkbox-group__item quiz__option"><input class="checkbox__input" type="checkbox" value="some_id" disabled=""><div class="checkbox__control"><svg class="icon icon-tick checkbox__tick" width="24" height="24" viewBox="0 0 24 24"><path d="M11.196 14.641l-.67.743.701.632.672-.663-.703-.712zm-3.311-1.639l2.64 2.382 1.34-1.485-2.641-2.382-1.34 1.485zm4.014 2.35l4.817-4.763-1.406-1.422-4.818 4.763 1.407 1.422z" fill="currentColor"></path></svg></div><div class="checkbox__label"><div class="checkbox-default__label checkbox__label checkbox-sketch__label"><div class="markdown markdown_size_normal markdown_type_theory quiz__option-label"><div class="paragraph">CREATE TABLE quote(id INTEGER, author_id INTEGER PRIMARY KEY, citation TEXT);</div></div><div class="markdown markdown_size_normal markdown_type_theory quiz__feedback"><div class="paragraph">Поле author_id — это идентификатор автора в другой таблице. Но с условием PRYMARY KEY база данных не позволит сохранить в этом поле неуникальные значения. Значит, две цитаты от одного автора в таблицу будет сохранить невозможно. Не годится.</div></div></div></div></label></div><div class="quiz__option-container quiz__option-container_checked quiz__option-container_error"><label class="checkbox-default checkbox checkbox_disabled checkbox-sketch checkbox-group__item quiz__option"><input class="checkbox__input" type="checkbox" value="some_id_id" disabled=""><div class="checkbox__control"><svg class="icon icon-tick checkbox__tick" width="24" height="24" viewBox="0 0 24 24"><path d="M11.196 14.641l-.67.743.701.632.672-.663-.703-.712zm-3.311-1.639l2.64 2.382 1.34-1.485-2.641-2.382-1.34 1.485zm4.014 2.35l4.817-4.763-1.406-1.422-4.818 4.763 1.407 1.422z" fill="currentColor"></path></svg></div><div class="checkbox__label"><div class="checkbox-default__label checkbox__label checkbox-sketch__label"><div class="markdown markdown_size_normal markdown_type_theory quiz__option-label"><div class="paragraph">CREATE TABLE quote(author_id PRIMARY, id KEY, citation INTEGER);</div></div><div class="markdown markdown_size_normal markdown_type_theory quiz__feedback"><div class="paragraph">Среди ошибок код не обнаружен.</div></div></div></div></label></div><div class="quiz__option-container quiz__option-container_checked quiz__option-container_correct"><label class="checkbox-default checkbox checkbox_disabled checkbox-sketch checkbox-group__item quiz__option"><input class="checkbox__input" type="checkbox" value="123" disabled=""><div class="checkbox__control"><svg class="icon icon-tick checkbox__tick" width="24" height="24" viewBox="0 0 24 24"><path d="M11.196 14.641l-.67.743.701.632.672-.663-.703-.712zm-3.311-1.639l2.64 2.382 1.34-1.485-2.641-2.382-1.34 1.485zm4.014 2.35l4.817-4.763-1.406-1.422-4.818 4.763 1.407 1.422z" fill="currentColor"></path></svg></div><div class="checkbox__label"><div class="checkbox-default__label checkbox__label checkbox-sketch__label"><div class="markdown markdown_size_normal markdown_type_theory quiz__option-label"><div class="paragraph">CREATE TABLE quote(author_id INTEGER, citation TEXT, id INTEGER PRIMARY KEY);</div></div><div class="markdown markdown_size_normal markdown_type_theory quiz__feedback"><div class="paragraph">Всё верно. Мы старательно пытались вас запутать. Колонка с PRIMARY KEY может быть в любом месте таблицы. Теперь в нашей литературной БД есть таблица с любимыми цитатами авторов.</div></div></div></div></label></div><div class="quiz__option-container quiz__option-container_checked quiz__option-container_error"><label class="checkbox-default checkbox checkbox_disabled checkbox-sketch checkbox-group__item quiz__option"><input class="checkbox__input" type="checkbox" value="333333333" disabled=""><div class="checkbox__control"><svg class="icon icon-tick checkbox__tick" width="24" height="24" viewBox="0 0 24 24"><path d="M11.196 14.641l-.67.743.701.632.672-.663-.703-.712zm-3.311-1.639l2.64 2.382 1.34-1.485-2.641-2.382-1.34 1.485zm4.014 2.35l4.817-4.763-1.406-1.422-4.818 4.763 1.407 1.422z" fill="currentColor"></path></svg></div><div class="checkbox__label"><div class="checkbox-default__label checkbox__label checkbox-sketch__label"><div class="markdown markdown_size_normal markdown_type_theory quiz__option-label"><div class="paragraph">CREATE TABLE quote(id INTEGER, author_id INTEGER, citation TEXT);</div></div><div class="markdown markdown_size_normal markdown_type_theory quiz__feedback"><div class="paragraph">Такой запрос база данных отклонит и спросит «а в какой же колонке будут уникальные ключи?». Код не сработает, одна из колонок таблицы обязательно должна иметь свойство PRIMARY KEY.</div></div></div></div></label></div></section></div>
</div><div class="lesson__markdown-btn"><button class="button button_size_m button_type_default button_theme_light button_view_normal button_has-hover-color lesson__button" type="button" style="--button-hover-color:var(--profession-color, $pureBlue);"><span class="button__text"><span>Вперед</span></span></button></div></section>
</body></html>